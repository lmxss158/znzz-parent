<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>${AppName!}后台系统</title>
<meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
<link rel="stylesheet" href="${base!}/assets/bootstrap/css/bootstrap.min.css">
<link rel="stylesheet" href="${base!}/assets/plugins/font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" href="${base!}/assets/plugins/Ionicons/css/ionicons.min.css">
<link rel="stylesheet" href="${base!}/assets/plugins/jvectormap/jquery-jvectormap-1.2.2.css">
<link rel="stylesheet" href="${base!}/assets/dist/css/AdminLTE.css">
<link rel="stylesheet" href="${base!}/assets/dist/css/skins/_all-skins.min.css">
<link rel="stylesheet" href="${base!}/assets/plugins/datatables/dataTables.bootstrap.css">
<link rel="stylesheet" href="${base!}/assets/plugins/datepicker/bootstrap-datetimepicker.min.css">
<link rel="stylesheet" href="${base!}/assets/dist/js/context/jquery.contextmenu.css">
<link rel="stylesheet" href="${base!}/assets/plugins/iCheck/all.css">
<link rel="stylesheet" href="${base!}/assets/plugins/select2/select2.min.css">
<link rel="stylesheet" href="${base!}/assets/dist/css/bootstrapValidator.css">
<link rel="stylesheet" href="${base!}/assets/dist/css/AdminLTE1.css">
<link rel="stylesheet" href="${base!}/assets/plugins/toastr/toastr.min.css">
<link rel="stylesheet" href="${base!}/assets/plugins/treetable/jquery.treetable.css">
<link rel="stylesheet" href="${base!}/assets/css/switchery.css">
<link rel="stylesheet" href="${base!}/assets/css/nestable.css">
<link rel="stylesheet" href="${base!}/assets/css/stepy.css">
<link rel="stylesheet" href="${base!}/assets/plugins/jstree/themes/default/style.min.css">
<link rel="stylesheet" href="${base!}/assets/css/themify-icons.css">
<link rel="stylesheet" href="${base!}/assets/plugins/stepy/jquery.stepy.css">
<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
<link rel="stylesheet" href="${base!}/assets/css/search.css">  
<link rel="stylesheet" href="${base!}/assets/css/searchs.css">  
  <!-- Google Font -->
  <link rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic">
 <style type="text/css">
 .uploadifive-button {
  background-position: center top;
  background-repeat: no-repeat;
  -webkit-border-radius: 30px;
  -moz-border-radius: 30px;
  border: 1px solid #e3e6f3;
  border-radius: 2px;
  color: cornflowerblue;
  font: 12px Arial, Helvetica, sans-serif;
  text-align: center;
  width: 100%;
}
.uploadifive-button:hover {
  background-color: lightseagreen;
  color: #FFF;
  font: 12px Arial, Helvetica, sans-serif;
  text-align: center;
}
 </style> 
 <!-- 这两个js必须放在上边 -->
  <script src="${base!}/assets/plugins/jquery-3.2.js"></script>
  <!-- <script src="${base!}/assets/plugins/jQuery/jquery.min.js"></script> -->
    <script type="text/javascript">
    var base = '${base!}';	 
</script>
</head>
<body class="hold-transition skin-blue sidebar-mini">
	<div class="wrapper">
		<header class="main-header">
			<a class="logo"> <span class="logo-mini"><b>${AppShrotName!}</b></span> <span class="logo-lg"><b>${AppName!}</b></span>
			</a>
			<nav class="navbar navbar-static-top">
				<a href="#" class="sidebar-toggle" data-toggle="offcanvas" role="button"> <span class="sr-only">Toggle navigation</span>
				</a>
				<div class="navbar-custom-menu">

					<ul class="nav navbar-nav">
						<li class="dropdown user user-menu"><a href="#" class="dropdown-toggle" data-toggle="dropdown"> <img src="${base!}/assets/dist/img/user2-160x160.jpg" class="user-image" alt="User Image"> <span class="hidden-xs">${@shiro.getPrincipalProperty('username')}</span>
						</a>
							<ul class="dropdown-menu">
								<!-- User image -->
								<li class="user-header"><img src="${base!}/assets/dist/img/user2-160x160.jpg" class="img-circle" alt="User Image">
									<p>
										${@shiro.getPrincipalProperty('unitid')} <small>${@shiro.getPrincipalProperty('email')}</small>
									</p></li>
								<li class="user-footer">
									<div class="pull-left">
										<!-- <a href="${base!}/platform/sys/user/pass" id="left" class="btn btn-default btn-flat">${msg['index.user.password']}</a> -->
										<a href="${base!}/platform/sys/user/pass" data-target="#homeDetail" data-toggle="modal" class="btn btn-default btn-flat">${msg['index.user.password']}</a>
									</div>
									<div class="pull-left" style="padding-left: 6px">
									<button type="button" class="btn btn-default btn-flat" data-toggle="modal" data-target="#myModal">切换主题</button>
									</div>
									<div class="pull-right">
										<a href="${base!}/platform/login/logout" class="btn btn-default btn-flat">退出系统</a>
									</div>
								</li>
							</ul></li>
					</ul>
				</div>
			</nav>
		</header>
		<aside class="main-sidebar">
			<section class="sidebar">
				<div class="user-panel">
					<div class="pull-left image">
						<img src="${base!}/assets/dist/img/user2-160x160.jpg" class="img-circle" alt="User Image">
					</div>
					<div class="pull-left info">
						<p>${@shiro.getPrincipalProperty('username')}</p>
						<a href="#"><i class="fa fa-circle text-success"></i>在线</a>
					</div>
				</div>

				<ul id="nav" class="sidebar-menu">
					<li class="header">主导航</li>
					<li class="active treeview"><a href="${base!}/platform/home"><i class="ti-home" style="width:25px"></i><span>首页</span></a></li>					
					<%
		            	var secondMenus=@shiro.getPrincipalProperty('secondMenus');
		            	for(firstMenu in @shiro.getPrincipalProperty('firstMenus')){		   
	           	 	%>							
					<% if(!isEmpty(@secondMenus.get(firstMenu.path))){%>
						<li class="treeview">
							<a href="#"> 
								<% if(!isEmpty(firstMenu.icon)){ %>				                            	
									<i class=${firstMenu.icon} style="width:25px"></i> 	
								<%}else{%>
									<i class="ti-heart" style="width:25px"></i>
								<% } %>
								<span>${firstMenu.name}</span>
								<span class="pull-right-container"> 
									<i class="fa fa-angle-left pull-right"></i>
								</span>
							</a>						
					<%}else{%>
						<li>
							<a href="<% if(!isEmpty(firstMenu.href)){ %><%if(@string.startWith(firstMenu.href,'/')){%>${base}${firstMenu.href!}<%}else{%>${firstMenu.href!}<%}%> <% }else{ %>javascript:;<% } %>"                    		
                     		<%if(@string.startWith(firstMenu.target,'_')){%>target="${firstMenu.target!}"<%}else{%>${firstMenu.target!}<%}%>>
							<% if(!isEmpty(firstMenu.icon)){ %>				                            	
									<i class=${firstMenu.icon} style="width:25px"></i> 	
								<%}else{%>
									<i class="ti-heart" style="width:25px"></i>
								<% } %>
							<span>${firstMenu.name}</span>
							</a>
                    <%}%>							
						<% if(!isEmpty(@secondMenus.get(firstMenu.path))){%>	
							<ul class="treeview-menu">
								<% for(secondMenu in @secondMenus.get(firstMenu.path)){ %>	
									<% if(!isEmpty(@secondMenus.get(secondMenu.path))){ %>
										<li class="treeview">									
											<a href="<% if(!isEmpty(secondMenu.href)){ %><%if(@string.startWith(secondMenu.href,'/')){%>${base}${secondMenu.href!}<%}else{%>${secondMenu.href!}<%}%> <% }else{ %>javascript:;<% } %>" <%if(@string.startWith(secondMenu.target,'_')){%>target="${secondMenu.target!}"<%}else{%>${secondMenu.target!}<%}%>>
				                            	<% if(!isEmpty(secondMenu.icon)){ %>				                            	
												<i class=${secondMenu.icon} style="width:25px"></i> 	
												<%}else{%>
												<i class="ti-heart" style="width:25px"></i>
												<% } %>
												<span>${secondMenu.name}</span>
												<span class="pull-right-container"> 
													<i class="fa fa-angle-left pull-right"></i>
												</span>
											</a>
									<%}else{%>
										<li>									
											<a href="<% if(!isEmpty(secondMenu.href)){ %><%if(@string.startWith(secondMenu.href,'/')){%>${base}${secondMenu.href!}<%}else{%>${secondMenu.href!}<%}%> <% }else{ %>javascript:;<% } %>" <%if(@string.startWith(secondMenu.target,'_')){%>target="${secondMenu.target!}"<%}else{%>${secondMenu.target!}<%}%>>                            	
				                            	<% if(!isEmpty(secondMenu.icon)){ %>				                            	
												<i class=${secondMenu.icon} style="width:25px"></i> 	
												<%}else{%>
												<i class="ti-heart" style="width:25px"></i>
												<% } %>
												<span>${secondMenu.name}</span>
											</a>
											<%}%>								
											<% if(!isEmpty(@secondMenus.get(secondMenu.path))){ %>
			                        		<ul class="treeview-menu" style="margin-left:25px;">
			                            		<% for(thMenu in @secondMenus.get(secondMenu.path)){ %>				
												<li>									
			                                		<a <% if(!isEmpty(thMenu.href)){ %>href="<%if(@string.startWith(thMenu.href,'/')){%>${base}${thMenu.href!}<%}else{%>${thMenu.href!}<%}%>" <% }else{ %>href="javascript:;"<% } %> <%if(@string.startWith(thMenu.target,'_')){%>target="${thMenu.target!}"<%}else{%>${thMenu.target!}<%}%>>
			                               			 	<span>${thMenu.name}</span>
			                                		</a>
			                            		</li><% }%>
			                        		</ul><%}%>
										</li><%}%>								
									</ul><%}%>
							</li><%}%>					
				</ul>
			</section>
		</aside>	
<div id="homeDetail" class="modal fade bs-modal-sm" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
        </div>
    </div>
</div>

		<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">页面布局</h4>
      </div>
      <div class="modal-body">
        <div class="row">
           <div class="col-xs-12 text-center">
             <a href="javascript:void(0)">皮肤</a>
           </div>
           <div class="col-xs-12 text-center">
             <ul class="list-unstyled clearfix">
               <li class="unstyled-li">
                 <a class="unstyled-a full-opacity-hover clearfix" href="javascript:void(0)" data-skin="skin-blue">
                   <div>
                     <span class="unstyled-top-l bg-blue-active"></span>
                     <span class="unstyled-top-r bg-light-blue"></span>
                   </div>
                   <div>
                     <span class="unstyled-bottom-l bg-light-black"></span>
                     <span class="unstyled-bottom-r"></span>
                   </div>
                 </a>
               </li>
               <li class="unstyled-li">
                 <a class="unstyled-a full-opacity-hover clearfix" href="javascript:void(0)" data-skin="skin-black">
                   <div>
                     <span class="unstyled-top-l bg-light-white"></span>
                     <span class="unstyled-top-r bg-light-white"></span>
                   </div>
                   <div>
                     <span class="unstyled-bottom-l bg-light-black"></span>
                     <span class="unstyled-bottom-r"></span>
                   </div>
                 </a>
               </li>
               <li class="unstyled-li">
                 <a class="unstyled-a full-opacity-hover clearfix" href="javascript:void(0)" data-skin="skin-purple">
                   <div>
                     <span class="unstyled-top-l bg-purple-active"></span>
                     <span class="unstyled-top-r bg-purple"></span>
                   </div>
                   <div>
                     <span class="unstyled-bottom-l bg-light-black"></span>
                     <span class="unstyled-bottom-r"></span>
                   </div>
                 </a>
               </li>
               <li class="unstyled-li">
                 <a class="unstyled-a full-opacity-hover clearfix" href="javascript:void(0)" data-skin="skin-green">
                   <div>
                     <span class="unstyled-top-l bg-green-active"></span>
                     <span class="unstyled-top-r bg-green"></span>
                   </div>
                   <div>
                     <span class="unstyled-bottom-l bg-light-black"></span>
                     <span class="unstyled-bottom-r"></span>
                   </div>
                 </a>
               </li>
               <li class="unstyled-li">
                 <a class="unstyled-a full-opacity-hover clearfix" href="javascript:void(0)" data-skin="skin-red">
                   <div>
                     <span class="unstyled-top-l bg-red-active"></span>
                     <span class="unstyled-top-r bg-red"></span>
                   </div>
                   <div>
                     <span class="unstyled-bottom-l bg-light-black"></span>
                     <span class="unstyled-bottom-r"></span>
                   </div>
                 </a>
               </li>
               <li class="unstyled-li">
                 <a class="unstyled-a full-opacity-hover clearfix" href="javascript:void(0)" data-skin="skin-yellow">
                   <div>
                     <span class="unstyled-top-l bg-yellow-active"></span>
                     <span class="unstyled-top-r bg-yellow"></span>
                   </div>
                   <div>
                     <span class="unstyled-bottom-l bg-light-black"></span>
                     <span class="unstyled-bottom-r"></span>
                   </div>
                 </a>
               </li>
               <li class="unstyled-li">
                 <a class="unstyled-a full-opacity-hover clearfix" href="javascript:void(0)" data-skin="skin-purple-light">
                   <div>
                     <span class="unstyled-top-l bg-purple-active"></span>
                     <span class="unstyled-top-r bg-purple"></span>
                   </div>
                   <div>
                     <span class="unstyled-bottom-l bg-light"></span>
                     <span class="unstyled-bottom-r"></span>
                   </div>
                 </a>
               </li>
               <li class="unstyled-li">
                 <a class="unstyled-a full-opacity-hover clearfix" href="javascript:void(0)" data-skin="skin-blue-light">
                   <div>
                     <span class="unstyled-top-l bg-blue-active"></span>
                     <span class="unstyled-top-r bg-light-blue"></span>
                   </div>
                   <div>
                     <span class="unstyled-bottom-l bg-light"></span>
                     <span class="unstyled-bottom-r"></span>
                   </div>
                 </a>
               </li>
               <li class="unstyled-li">
                 <a class="unstyled-a full-opacity-hover clearfix" href="javascript:void(0)" data-skin="skin-black-light">
                   <div>
                     <span class="unstyled-top-l bg-light-white"></span>
                     <span class="unstyled-top-r bg-light-white"></span>
                   </div>
                   <div>
                     <span class="unstyled-bottom-l bg-light"></span>
                     <span class="unstyled-bottom-r"></span>
                   </div>
                 </a>
               </li>
               <li class="unstyled-li">
                 <a class="unstyled-a full-opacity-hover clearfix" href="javascript:void(0)" data-skin="skin-green-light">
                   <div>
                     <span class="unstyled-top-l bg-green-active"></span>
                     <span class="unstyled-top-r bg-green"></span>
                   </div>
                   <div>
                     <span class="unstyled-bottom-l bg-light"></span>
                     <span class="unstyled-bottom-r"></span>
                   </div>
                 </a>
               </li>
               <li class="unstyled-li">
                 <a class="unstyled-a full-opacity-hover clearfix" href="javascript:void(0)" data-skin="skin-yellow-light">
                   <div>
                     <span class="unstyled-top-l bg-yellow-active"></span>
                     <span class="unstyled-top-r bg-yellow"></span>
                   </div>
                   <div>
                     <span class="unstyled-bottom-l bg-light"></span>
                     <span class="unstyled-bottom-r"></span>
                   </div>
                 </a>
               </li>
               <li class="unstyled-li">
                 <a class="unstyled-a full-opacity-hover clearfix" href="javascript:void(0)" data-skin="skin-red-light">
                   <div>
                     <span class="unstyled-top-l bg-red-active"></span>
                     <span class="unstyled-top-r bg-red"></span>
                   </div>
                   <div>
                     <span class="unstyled-bottom-l bg-light"></span>
                     <span class="unstyled-bottom-r"></span>
                   </div>
                 </a>
               </li>
             </ul>
           </div>
           <div class="col-xs-12 text-center">
             <a href="javascript:void(0)">页面布局</a>
           </div>
           <div class="col-xs-12 text-center">
			<div class="form-group"><label class="control-sidebar-subheading"><input type="checkbox" data-layout="fixed" class="pull-right"> Fixed layout</label><p>Activate the fixed layout. You can't use fixed and boxed layouts together</p></div>
       		<div class="form-group"><label class="control-sidebar-subheading"><input type="checkbox" data-layout="layout-boxed" class="pull-right"> Boxed Layout</label><p>Activate the boxed layout</p></div>
       		<div class="form-group"><label class="control-sidebar-subheading"><input type="checkbox" data-layout="sidebar-collapse" class="pull-right"> Toggle Sidebar</label><p>Toggle the left sidebar's state (open or collapse)</p></div>
       		<div class="form-group"><label class="control-sidebar-subheading"><input type="checkbox" data-enable="expandOnHover" class="pull-right"> Sidebar Expand on Hover</label><p>Let the sidebar mini expand on hover</p></div>
       		<div class="form-group"><label class="control-sidebar-subheading"><input type="checkbox" data-controlsidebar="control-sidebar-open" class="pull-right"> Toggle Right Sidebar Slide</label><p>Toggle between slide over content and push content effects</p></div>
       		<div class="form-group"><label class="control-sidebar-subheading"><input type="checkbox" data-sidebarskin="toggle" class="pull-right"> Toggle Right Sidebar Skin</label><p>Toggle between dark and light skins for the right sidebar</p></div>
           </div>
       </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
        <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
      </div>
    </div>
  </div>
</div>

        <div class="content-wrapper" id="container">
 			${layoutContent}
  		</div>   
		
		<footer class="main-footer">
			<div class="pull-right hidden-xs">
				<b>${AppName!}</b> 后台系统
			</div>
			<strong>Copyright &copy; 2017 <a href="http://www.htfudao.com.cn/">航天福道</a></strong>
		</footer>
	</div>
	<script src="${base!}/assets/plugins/jstree/jstree.min.js"></script>
	<!-- 必须在bootstrap前边 -->
	<script src="${base!}/assets/plugins/jQueryUI/jquery-ui.min.js"></script>
	<!-- 静态页面的js -->
	<script src="${base!}/assets/bootstrap/js/bootstrap.min.js"></script>	
	<script	src="${base!}/assets/plugins/datatables/jquery.dataTables.min.js"></script>	
	<script	src="${base!}/assets/plugins/datepicker/bootstrap-datepicker.js"></script>
	  <script src="${base!}/assets/plugins/datepicker/bootstrap-datetimepicker.min.js"></script>
	<script	src="${base!}/assets/plugins/slimScroll/jquery.slimscroll.min.js"></script>
	<script src="${base!}/assets/plugins/fastclick/fastclick.js"></script>
	<script src="${base!}/assets/plugins/iCheck/icheck.min.js"></script>
	<script src="${base!}/assets/plugins/select2/select2.full.min.js"></script>
	<script src="${base!}/assets/dist/js/bootstrapValidator.js"></script>
	<script src="${base!}/assets/dist/js/adminlte.js"></script>
	<script src="${base!}/assets/plugins/sparkline/jquery.sparkline.min.js"></script>
	<script	src="${base!}/assets/plugins/jvectormap/jquery-jvectormap-1.2.2.min.js"></script>
	<script	src="${base!}/assets/plugins/jvectormap/jquery-jvectormap-world-mill-en.js"></script>	
	<script src="${base!}/assets/dist/js/demo.js"></script>
	<script src="${base!}/assets/dist/js/warning.js"></script>	
	<script src="${base!}/assets/plugins/chart.js/Chart.js"></script>
	<script src="${base!}/assets/dist/js/layer/layer.js"></script>
	<script src="${base!}/assets/dist/js/context/jquery.contextmenu.js"></script>
	<script src="${base!}/assets/dist/js/AdminLTE1.js"></script>
	<!-- 后期引入的js -->
	<script src="${base!}/assets/plugins/chartjs/Chart.min.js"></script>
	<script src="${base!}/assets/dist/js/app.min.js"></script>
	<script src="${base!}/assets/js/form.js"></script>
	<script src="${base!}/assets/js/jquery.pjax.js"></script>
	<script	src="${base!}/assets/plugins/datatables/dataTables.bootstrap.min.js"></script>
	<script src="${base!}/assets/plugins/toastr/toastr.min.js"></script>
	<script src="${base!}/assets/js/toast.js"></script>
	<script src="${base!}/assets/js/main.js"></script>
	<script src="${base!}/assets/plugins/treetable/jquery.treetable.js"></script>
	<script src="${base!}/assets/js/page.js"></script>
	<script src="${base!}/assets/plugins/switchery/switchery.js"></script>
	<script src="${base!}/assets/plugins/jquery.form.js"></script>
	<script src="${base!}/assets/plugins/uploadifive/jquery.uploadifive.min.js"></script>
	<script src="${base!}/assets/plugins/moment.js"></script>
	<script src="${base!}/assets/js/date.js"></script>
	<script src="${base!}/assets/plugins/stepy/jquery.stepy.js"></script>
	<script src="${base!}/assets/plugins/stepy/jquery.validate.min.js"></script>
	<script src="${base!}/assets/plugins/jquery.sortable.js"></script>
	<script src="${base!}/assets/plugins/jquery.nestable.js"></script>
	<script type="text/javascript">
		 $(document).ready(function () {
	        if($.support.pjax) {
	           <%if(@shiro.getPrincipalProperty('loginPjax')){%>
	          	$(document).pjax('a[data-pjax]', '#container', {maxCacheLength:0,push:false, replace:true,fragment: '#container', timeout: 8000});
	          <%}%> 
	       } 
	      });
    </script>
</body>
</html>
