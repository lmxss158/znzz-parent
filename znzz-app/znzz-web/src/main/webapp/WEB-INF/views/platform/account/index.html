<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>综合监控</title>
    <link rel="shortcut icon" href="${base!}/favicon.ico" type="image/x-icon" />
    <!-- Tell the browser to be responsive to screen width -->
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <!-- Bootstrap 3.3.7 -->
    <link rel="stylesheet" href="${base!}/assets/bootstrap/css/bootstrap.min.css">
   <link rel="stylesheet" href="${base!}/assets/plugins/select2/select2.min.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="${base!}/assets/plugins/font-awesome/css/font-awesome.min.css">
    <!-- Ionicons -->
	<link rel="stylesheet" href="${base!}/assets/plugins/Ionicons/css/ionicons.min.css">
    <!-- Theme style -->
  <link rel="stylesheet" href="${base!}/assets/dist/css/AdminLTE.min.css">
    <!-- AdminLTE Skins. Choose a skin from the css/skins
         folder instead of downloading all of them to reduce the load. -->
   <link rel="stylesheet" href="${base!}/assets/dist/css/skins/_all-skins.min.css">
    <!-- Morris chart -->
    <!-- <link rel="stylesheet" href="${base!}/assets/plugins/morris.js/morris.css"> -->
    <!-- jvectormap -->
    <link rel="stylesheet" href="${base!}/assets/plugins/jvectormap/jquery-jvectormap.css">
    <!-- Date Picker -->
    <link rel="stylesheet" href="${base!}/assets/plugins/bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css">
    <!-- Daterange picker -->
    <link rel="stylesheet" href="${base!}/assets/plugins/bootstrap-datepicker/dist/css/bootstrap-datepicker.css">
    <!-- bootstrap wysihtml5 - text editor -->
    <link rel="stylesheet" href="${base!}/assets/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.css">
    <link rel="stylesheet" href="${base!}/assets/plugins/iCheck/all.css">
    <link rel="stylesheet" href="${base!}/assets/dist/css/index.css">
    <!--<link rel="stylesheet" href="./gateway-management.css">-->
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <!--<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>-->
    <!--<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>-->
    <![endif]-->

    <!-- Google Font -->
    <!--<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic">-->
    <style type="text/css">
        .content-bgc{
            background-image: url('${base!}/assets/dist/img//home-bgc.png');
            background-repeat: no-repeat;
            -webkit-background-size: cover;
            background-size: cover;
        }
        .home-device {
            display: inline-block;
            vertical-align: middle;
        }

        .home-span-wid {
            width: 20px;
            height: 20px;
        }
        .home-box{
            background-color: rgba(255,255,255,0.1);
            border-radius: 5px;
            height: 100%;
        }
        .home-box-header{
            background-color: rgba(255,255,255,0.1);
            position: relative;
            color: #fff;
            padding: 8px 0;
            border-top-left-radius: 5px;
            border-top-right-radius: 5px;
            font-size: 18px;
            letter-spacing:2px;
        }
        .myclass0{background-color: #FF7F50}
.myclass1{background-color: #FF8C00}
.myclass2{background-color: #6495ED}
.myclass3{background-color: #3CB371}
.myclass4{background-color: #9370DB}
.myclass5{background-color: #DB7093}
    </style>
</head>
<body class="hold-transition skin-blue sidebar-mini">
<div class="wrapper">

    <header class="main-header">
        <!-- Logo -->
        <a href="${base!}/platform/home" class="logo" style="background-color: rgb(31,38,40);">
            <!-- mini logo for sidebar mini 50x50 pixels -->
            <!-- <span class="logo-mini"><b>仪器设备管理系统</b></span> -->
            <!-- logo for regular state and mobile devices -->
            <span class="logo-lg"><b>仪器设备管理系统</b></span>
            
        </a>
        <a href="${base!}/platform/home" class="logo" style="background-color:  rgb(31,38,40);">
            <span style="width: 100%;display: inline-block;" class="text-left">
                <img src="${base!}/assets/dist/img/icon-header.png" width="23" height="19" >
                
                <i style="font-style: normal;font-size: 14px;color: #cc6633;">后台管理</i>
            </span>
            
            <span ><b></b></span>
            
        </a>
        <!-- Header Navbar: style can be found in header.less -->
        <nav class="navbar navbar-static-top" style="background-color: rgb(31,38,40);margin-left:430px;">
            <!-- Sidebar toggle button-->
            <!-- <a href="#" class="sidebar-toggle" data-toggle="push-menu" role="button">
                <span class="sr-only">Toggle navigation</span>
            </a> -->
            <%
		      var unit=@shiro.getPrincipalProperty('unit');
		      var nickName=@shiro.getPrincipalProperty('nickName');
			  var username=@shiro.getPrincipalProperty('username') ;
	        %>
            <div class="navbar-custom-menu" style="position: relative;">
                <ul class="nav navbar-nav">
                    <!-- Messages: style can be found in dropdown.less-->
                    <li>
                        <span class="label" style="line-height: 50px;" id="timeDay"></span>
                    </li>
                    <!-- Notifications: style can be found in dropdown.less -->
                    <li>
                       <span class="label" style="line-height: 50px;" id="timeHour"></span>
                    </li>
                    <!-- Tasks: style can be found in dropdown.less -->
                    <li>
                        <span class="label" style="line-height: 50px;">${unit.name}</span>
                    </li>
                    <!-- User Account: style can be found in dropdown.less -->
                    <li class="dropdown user user-menu">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            <img src="${base!}/assets/dist/img/user2-160x160.jpg" class="user-image" alt="User Image">
                            <span class="hidden-xs">${(@nickName==""||@nickName==null)?username:nickName}</span>
                        </a>
                        <ul class="dropdown-menu">
                            <!-- User image -->
                            <li class="user-header">
                                <img src="${base!}/assets/dist/img//user2-160x160.jpg" class="img-circle" alt="User Image">

                                <p>
                                   ${@shiro.getPrincipalProperty('unitid')} <small>${@shiro.getPrincipalProperty('email')}</small>
                                </p>
                            </li>
                            <!-- Menu Body -->
                            <!-- <li class="user-body">
                                <div class="row">
                                    <div class="col-xs-4 text-center">
                                        <a href="#">Followers</a>
                                    </div>
                                    <div class="col-xs-4 text-center">
                                        <a href="#">Sales</a>
                                    </div>
                                    <div class="col-xs-4 text-center">
                                        <a href="#">Friends</a>
                                    </div>
                                </div>
                                /.row
                            </li> -->
                            <!-- Menu Footer-->
                            <li class="user-footer">
									<!-- <div class="pull-left">
										<a href="${base!}/platform/sys/user/pass" id="left" class="btn btn-default btn-flat">${msg['index.user.password']}</a>
										<a href="${base!}/platform/sys/user/pass" data-target="#homeDetail" data-toggle="modal" class="btn btn-default btn-flat">${msg['index.user.password']}</a>
									</div>
									<div class="pull-left" style="padding-left: 6px">
									<button type="button" class="btn btn-default btn-flat" data-toggle="modal" data-target="#myModal">切换主题</button>
									</div> -->
									<div class="pull-right">
										<a href="${base!}/platform/login/logout" class="btn btn-default btn-flat">退出系统</a>
									</div>
								</li>
                        </ul>
                    </li>
                    <!-- Control Sidebar Toggle Button -->
                    
                </ul>
            </div>
        </nav>
    </header>
    <!-- Left side column. contains the logo and sidebar -->
    

    <!-- Content Wrapper. Contains page content -->
   <div class="content-wrapper content-bgc" style="padding-top:5px;margin-left: 0;">
  <section class="content-header" style="padding-bottom: 15px;">
            <h1 class="text-center" style="color: #fff;">
                综合监控台
                <!--<small>Control panel</small>-->
            </h1>

            <ol class="breadcrumb pull-left">
                <li ><a href="${base!}/platform/home" style="color: #fff;"><i class="fa fa-dashboard"></i> 首页</a></li>
                <li class="active" style="color: #fff;">监控台</li>
            </ol>
        </section>
        <!-- Main content -->
        <div style="width:100%;height:3px;background-image: url('${base!}/assets/dist/img//bgc-line.png');background-repeat: no-repeat;background-size: cover;"></div>
        <section class="content" >
            <!-- Small boxes (Stat box) -->
            
            <div class="box" style="border:none;background-color: transparent;">
                <div class="box-body chart-responsive">
                <!-- 受监控台数 -->
                <div class="col-sm-4" style="height: 320px; margin-bottom:5px;">
                        <div class="text-center home-box">
                            <div class="home-box-header">接入状况</div>
                           <a onclick="openSecondPage();"> <div style="margin: 50% auto; margin-top: 40px;">
                                <div style="width: 100%;height: 93px;cursor: pointer;" class="text-center">
                                    <img src="${base!}/assets/dist/img/home-device-icon.png" width="92", height="93">
                                </div>
                                <div style="position: relative;color: #fff;padding-top: 20px;font-size: 72px;cursor: pointer;" >${obj.collectNum}台</div>
                            </div></a>
                        </div>
                    </div>
                    
                    <!-- 进度条 -->
                    <div class="col-sm-4" style="height: 320px; margin-bottom:5px;">
                        <div class="text-center home-box">
                            <div  class="home-box-header">利用率统计</div>
                            <div class="box-body no-padding" style="margin: 18px auto;">
                            <% for(var item in obj.monthData){ %>
                              
                              <div class="flex-center" style="padding: 10px;">
                                    <span id="month1" class="text-center" style="color: #fff;padding-right: 10px; flex:0 0 70px;">${item.month}</span>
                                    <div class="progress progress-xs progress-striped active flex-width" style="margin-bottom: 0;">
                                      <div class="progress-bar ${item.class}" style="width: ${item.rate}%"></div>
                                    </div>
                                    <span class="badge bg-red" style="margin-left: 10px;">${item.rate}%</span>
                              </div>
                              
                              <%}%>
                             
                            </div>
                        </div>
                    </div>
                    
                    <!-- 饼状图 -->
                     <div class="col-sm-4" style="height: 320px; margin-bottom:5px;">
                        <div class="text-center home-box">
                            <div class="home-box-header">实时状况</div>
                             <div id="monitorRate" style="width: 100%;height: 300px;"></div>
                        </div>
                    </div>
                    
                    
                    
                
                    
                </div>
                <!-- /.box-body -->
            </div>
            
             <div class="box" style="border:none;background-color: transparent;">
                    <div class="box-body chart-responsive">
                        <div class="col-sm-6" style="height: 350px; margin-bottom:5px;">
                            <div class="text-center home-box">
                                <div class="home-box-header">实时功率曲线图</div>
                                <div id="powerMinuteLine" style="width: 100%;height: 320px;"></div>
                            </div>
                        </div>
                        <div class="col-sm-6" style="height: 350px; margin-bottom:5px;">
                            <div class="text-center home-box">
                                <div class="home-box-header">日设备运行概况图</div>
                                <div id="bar-chart" style="width: 100%;height: 320px;"></div>
                            </div>
                        </div>
                    </div>
                    <!-- /.box-body -->
                </div>
            
            
            
            
        </section>
        </div>
    <!-- /.content-wrapper -->
    <!-- <footer class="main-footer" style="margin-left:0;">
        <div class="pull-right hidden-xs">
            <b>Version</b> 2.4.0
        </div>
        <strong>Copyright &copy; 2014-2016 <a href="https://adminlte.io">Almsaeed Studio</a>.</strong> All rights
        reserved.
    </footer> -->

    <!-- Control Sidebar -->
    
    <!-- /.control-sidebar -->
    <!-- Add the sidebar's background. This div must be placed
         immediately after the control sidebar -->
    <div class="control-sidebar-bg"></div>

</div>
<!-- ./wrapper -->


<!-- jQuery 3 -->
<script src="${base!}/assets/plugins/jQuery/jquery.min.js"></script>
<!-- jQuery UI 1.11.4 -->
<script src="${base!}/assets/plugins/jQueryUI/jquery-ui.js"></script>
<!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
<script>
    $.widget.bridge('uibutton', $.ui.button);
</script>
<!-- Bootstrap 3.3.7 -->
<script src="${base!}/assets/bootstrap/js/bootstrap.min.js"></script>
	<script src="${base!}/assets/plugins/select2/select2.full.min.js"></script>
<!-- Morris.js charts -->
<!-- <script src="${base!}/assets/plugins/raphael/raphael.min.js"></script>
<script src="${base!}/assets/plugins/morris.js/morris.min.js"></script> -->
<!-- Sparkline -->
<script src="${base!}/assets/plugins/jQuery/jquery.sparkline.min.js"></script>
<!-- jvectormap -->
<script src="${base!}/assets/plugins/jvectormap/jquery-jvectormap-1.2.2.min.js"></script>
<script src="${base!}/assets/plugins/jvectormap/jquery-jvectormap-world-mill-en.js"></script>
<!-- jQuery Knob Chart -->
<script src="${base!}/assets/plugins/jQuery/jquery.knob.min.js"></script>
<!-- daterangepicker -->
<script src="${base!}/assets/plugins/moment/min/moment.min.js"></script>
<script src="${base!}/assets/plugins/bootstrap-daterangepicker/daterangepicker.js"></script>
<!-- datepicker -->
<script src="${base!}/assets/plugins/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js"></script>
<script src="${base!}/assets/plugins/bootstrap-datepicker/dist/locales/bootstrap-datepicker.zh-CN.min.js"></script>
<!-- Bootstrap WYSIHTML5 -->
<script src="${base!}/assets/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.all.min.js"></script>
<!-- Slimscroll -->
<script src="${base!}/assets/plugins/jQuery/jquery.slimscroll.min.js"></script>
<!-- FastClick -->
<script src="${base!}/assets/plugins/fastclick/fastclick.js"></script>
<!-- AdminLTE App -->
<script src="${base!}/assets/dist/js/adminlte.min.js"></script>
<!-- AdminLTE dashboard demo (This is only for demo purposes) -->
<!-- <script src="${base!}/assets/dist/js/pages/dashboard.js"></script> -->
<script src="${base!}/assets/plugins/iCheck/icheck.min.js"></script>
<!-- AdminLTE for demo purposes -->
<script src="${base!}/assets/dist/js/demo.js"></script>
<script src="${base!}/assets/dist/js/echarts.min.js"></script>
<!--<script src="./gateway-management.js"></script>-->
<script language="JavaScript">
		$(function(){
	            initEchartPlugin();
	            setInterval('refreshData()',1000*60*5);
	            showRightTime();
                //显示铃铛数量
                showMessageCount();

		})
		
		function openSecondPage(){
			//window.open("${base}/platform/home/byDepart") ;
			window.location.href="${base}/platform/account/monitor";
		}
		
		
		//实时刷新功率图
		function refreshData(){
			var powerMinnuteChart=echarts.init(document.getElementById('powerMinuteLine'));
			$.ajax({
				type:"post",
				url:"${base}/platform/account/powerData",
				success:function(data){
					var option = getPowerLineOption(data.dateData,data.powerData)
					powerMinnuteChart.setOption(option);
				},
				error:function(e){
					
				}
				
			});
			
			
		}
		
		function initEchartPlugin(){
			
			 // 基于准备好的dom，初始化echarts实例
	        var monitorRateChart = echarts.init(document.getElementById('monitorRate'));
	        var powerMinnuteChart=echarts.init(document.getElementById('powerMinuteLine'));
	        var barChart = echarts.init(document.getElementById('bar-chart'));
	        // 使用刚指定的配置项和数据显示图表。
	        monitorRateChart.setOption(getOption('监控率',${obj.powerOnNum},${obj.powerOffNum},${obj.outLineNum},'开机数','关机数','离线数'));
	        powerMinnuteChart.setOption(getPowerLineOption());
	        
	        var lineList = '${obj.lineList}' ;
	        var lineArr = JSON.parse(lineList) ;
	        barChart.setOption(getBarOption(getDetailOption(lineArr)));
	        
	        
	        window.onresize = function () {
	        	monitorRateChart.resize();
	        	powerMinnuteChart.resize();
	        	barChart.resize();
	        }
		}
		
		
		
		
		function setBrackets(str,num){
			return str+"("+num+")" ;
		}
		
		
		function getOption(name,rate1,rate2,rate3,ratename1,ratename2,ratename3){
			option = {
	        	    tooltip : {
	        	        trigger: 'item',
	        	        formatter: "{a} <br/>{b} : {c} ({d}%)"
	        	    },
	        	    legend: {
	                    orient: 'vertical',
	                    x: 'right',
	                    top:10,
	                    data: [
	                        {name:ratename1,textStyle:{color:'#fff'}},
	                        {name:ratename2,textStyle:{color:'#fff'}},
	                        {name:ratename3,textStyle:{color:'#fff'}}
	                    ]
	                },
	                grid: { 
                      /*   left: '8%',
                        right: '5%', */
                       /* bottom: '20%', */
                        containLabel: true
                    },  
	        	    series : [
	        	        {
	        	            name: name,
	        	            type: 'pie',
	        	            radius : '70%',
	        	            center: ['50%', '50%'],
	        	            label: {
	        	            	normal: {
	        	            	formatter: "{b}"+"({c})",
	        	            	show: true,
	        	            	// position: 'inner',//文字显示位置
	        	            	textStyle: {
	        	            	      fontSize: '14',
	        	            	      fontWeight: 'normal'
	        	            	    }
	        	            	}
	        	            },
	        	            data:[
	        	                {value: rate1, name:ratename1},
	        	                {value:rate2, name:ratename2},
	        	                {value:rate3, name:ratename3}
	        	              
	        	            ],
	        	            itemStyle: {
	        	                emphasis: {
	        	                    shadowBlur: 10,
	        	                    shadowOffsetX: 0,
	        	                    shadowColor: 'rgba(0, 0, 0, 0.5)'
	        	                }
	        	            },
	        	            color: ['#3C9ACF','#D75F42','#DF951A']
	        	        }
	        	    ]
	        	};
			
			return option ;
			
		}
		
		
		//柱状图
        function getBarOption(dataJson){
        	var barOption = {
                    //timeline基本配置都写在baseoption 中  
                    baseOption: {  
                        timeline: {  
                            //loop: false,          
                            axisType: 'category',
                            show: true,  
                            autoPlay: false, 
                            currentIndex: 4,
                            playInterval: 2000, 
                            realtime: true,
                            padding:[10,10,16,10],
                           // orient:'vertical',
                           // controlPosition:'right',
                            data: ${obj.fiveDays},
                            symbol: 'emptyDiamond',
                            symbolSize: 15,
                            // symbolOffset:['20%',0],
                            color : '#fff',
                            lineStyle: {
                                color: '#fff',
                                width: 1,
                                type: 'solid',
                                },
                            controlStyle:{
                                showPrevBtn: true,
                                showNextBtn: true,
                                normal:{
                                    color: '#fff',
                                    borderColor:'#fff'
                                },
                                emphasis:{
                                    color: '#fff',
                                    borderColor:'#fff'
                                }
                            },
                            label:{
                                 normal : { 
                                    color : '#fff',
                                },
                                emphasis : { 
                                    color : '#fff',
                                    fontFamily:'Microsoft YaHei'
                                },
                            },
                            checkpointStyle:{
                                symbol:'diamond',
                                animation : true
                            }
                            // label: {
                            //     // show: true,
                            //     interval: 'auto',
                            //     rotate: 0,
                            //     formatter: null,
                            //     textStyle: {
                            //         color: '#fff'
                            //     }
                            // }
                        },  
                        
                        grid: { 
                                 left: '8%',
                                 right: '5%',
                                bottom: 100,
//                                 containLabel: true
                             },  
                        // title: {  
                        //         text: '24小时设备运行图',  
                        //         // subtext: '单位:台',
                        //         x:'left'
                        //     },  
                        xAxis: [
                            {
                            type: 'category',
//                                boundaryGap : false,
//                            name: '时间',
                            data: [
                                '0:00','\n1:00', '2:00','\n3:00','4:00','\n5:00','6:00','\n7:00','8:00','\n9:00','10:00','\n11:00','12:00','\n13:00','14:00','\n15:00','16:00','\n17:00','18:00','\n19:00','20:00','\n21:00','22:00','\n23:00'
                            ],
                            axisLabel:{
//                                showMinLabel:true,
                                 interval: '0',
//                                 rotate:30,
                                 show: true,
                                 textStyle: {
                                    color: '#fff'
                                 }
                            },
                            axisLine:{
                                 lineStyle:{
                                    color:'#fff',
                                    // width:8,
                                }
                            }      
                            
                        }
                        ],
                        yAxis: { 
                                    type: 'value',
//                                    data:['100','200','300','400','500'],

                                    // name: '台数',
                                    axisLabel: {
                                                formatter: '{value} 台',
                                                show: true,
                                                textStyle: {
                                                    color: '#fff'
                                                }
                                            },
                                    axisLine:{
                                         lineStyle:{
                                            color:'#fff',
                                            // width:8,
                                        }
                                    }               
                                },  
                        series: [
                            {
                                type: 'bar',
                            },
                        ],
                        tooltip : {
                                    trigger: 'axis',
                                    axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                                        type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
                                    }
                                },
                        legend: {
                                    x: 'center',
                                    top:10,
                                    // data:[{name:'运行台数',textStyle:{color:'#fff'}},{{name:'监控台数',textStyle:{color:'#fff'}}]
                                    data:[
                                        {name:'运行台数',icon:'roundRect',textStyle:{color:'#fff'}},
                                        {name:'监控台数',icon:'roundRect',textStyle:{color:'#fff'}}
                                    ]
                                },
                       

                    },  
                    //变量则写在options中需要加载的数据
                    options:dataJson
                     
                }
        	
        	return barOption ;
		} 
        //拼接dataJson
		function getDetailOption(dataJson){
        	var arr = new Array() ;
        	for(var i in dataJson){
				var collectData = [] ;      		
        		var powerOnData = [] ;
        		var obj = dataJson[i] ;
				if(obj.collectStrData){
        			collectData=obj.collectStrData.split(",") ;
        		}
        		if(obj.powerOnData){
        			powerOnData=obj.powerOnData.split(",") ;
        		}
        		
        		var str={series:[{name:'监控台数',type:'bar',data:collectData,color:['#D75F42']},{name:'运行台数',type:'bar',data:powerOnData,color:['#3C9ACF']}] };
        		arr.push(str);
        	}
        	
        		return arr ;
        		
        		
        }
		
		//功率直线图 
		function getPowerLineOption(dateData,powerData){
			
			if(!dateData){
				dateData = "${obj.dateData}";
			}
			
			if(!powerData){
				powerData = "${obj.powerData}";
			}
			
			dateData=dateData.split(",") ;
			powerData=powerData.split(",") ;
			
			option = {
					    tooltip: {
					        trigger: 'axis',
					        formatter: '{a} <br/>{b} : {c}W'
					    },
					    grid: {
			                left: '3%',
			                right: '4%',
			                bottom: '10%',
			                containLabel: true
			            },
					    legend: {
					    	 x:'center',
				             top:10,
				             data:[{name:'功率',icon:'roundRect',textStyle:{color:'#fff'}}]
					    },
					    toolbox: {
					        show: false,
					        feature: {
					            dataZoom: {
					                yAxisIndex: 'none'
					            },
					            restore: {},
					            saveAsImage: {}
					        }
					    },
					    xAxis:  {
					        type: 'category',
					        boundaryGap: true,
					        data:dateData,
					        splitLine:{show:true },
					        axisLabel:{
	                            show: true,
	                            textStyle: {
	                                color: '#fff'
	                            }
	                        },
			                axisLine:{
			                     lineStyle:{
			                        color:'#fff',
			                    }
			                }   
					       
					    },
					    yAxis: {
					    	type: 'value',
			                axisLabel:{
			                             show: true,
			                             textStyle: {
			                                color: '#fff'
			                             }
			                        },
			                axisLine:{
			                     lineStyle:{
			                        color:'#fff',
			                        // width:8,
			                    }
			                }  
					    },
					    series: [
					        {
					            name:'功率',
					            type:'line',
					            data:powerData,
					            markPoint: {
					                data: [
					                    {type: 'max', name: '最大值'},
					                    {type: 'min', name: '最小值'}
					                ]
					            }/* ,
					            markLine: {
					                data: [
					                    {type: 'average', name: '平均值'}
					                ]
					            } */
					        }
					    ],
					    color:['#d75f42']
				};

			return option ;
		}
		
		//显示系统时间
		function showRightTime(){
			var str,colorhead,colorfoot;
			var objD=new Date();
			  var yy = objD.getYear();
			   if(yy<1900) yy = yy+1900;
			  var MM = objD.getMonth()+1;
			   if(MM<10) MM = '0' + MM;
			  var dd = objD.getDate();
			   if(dd<10) dd = '0' + dd;
			  var hh = objD.getHours();
			   if(hh<10) hh = '0' + hh;
			  var mm = objD.getMinutes();
			   if(mm<10) mm = '0' + mm;
			  var ss = objD.getSeconds();
			   if(ss<10) ss = '0' + ss;
			  var ww = objD.getDay();
			   if ( ww==0 ) colorhead="<font color=\"#FF0000\">";
			   if ( ww > 0 && ww < 6 ) colorhead="<font color=\"#373737\">";
			   if ( ww==6 ) colorhead="<font color=\"#008000\">";
			   if (ww==0) ww="星期日";
			   if (ww==1) ww="星期一";
			   if (ww==2) ww="星期二";
			   if (ww==3) ww="星期三";
			   if (ww==4) ww="星期四";
			   if (ww==5) ww="星期五";
			   if (ww==6) ww="星期六";
			$("#timeDay").html(yy+"年"+MM+"月"+dd+"日 ") ;
			$("#timeHour").html(hh+":"+mm+":"+ss +"&nbsp;"+ww) ;
			//一秒刷新一次显示时间
			var timeID=setTimeout(showRightTime,1000);
		}

        //显示铃铛数量
        /*function showMessageCount() {
		    console.info(1)
            $.post("${base}/sys/message/info/getMessageCount", {}, function (data) {
                //铃铛数目为0
                if (data.data == 0){
                    $(".label-warning").addClass("hide");
                }else{
                    $(".label-warning").removeClass("hide");
                    $(".label-warning").html(data.data);
                }
            }, "json");
        }*/
</script>
</body>
</html>